<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Undr Prototype</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        body {
            margin: 0;
            font-family: "Pretendard", sans-serif;
            background: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 480px;
            min-height: 100vh;
            background: #ffffff;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* ===== 지도 영역 ===== */
        .map-box {
            position: relative;
            flex-grow: 1;
        }

        .map-box img.map-image {
            width: 100%;
            display: block;
            border-bottom: 2px solid #e5e5e5;
        }

        /* ===== 지도 위 아이콘 (EV1.png) ===== */
        .overlay-image {
            position: absolute;
            width: 60px;
            /* 모바일에서 보기 좋은 아이콘 크기 */
            height: 60px;
            display: none;
            z-index: 20;
            pointer-events: none;
        }

        /* ===== 헤더 ===== */
        .header {
            text-align: center;
            margin: 16px 0 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .logo {
            font-size: 34px;
            font-weight: 800;
            color: #6ac8a2;
            cursor: pointer;
        }

        .settings-btn {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            width: 45px;
            /* +5px */
            height: 45px;
            /* +5px */
            border-radius: 8px;
            /* 정사각형 + 부드러운 모서리 */
            background: #6ac8a2;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15);
        }

        /* 설정 아이콘 */
        .icon-setting {
            width: 22px;
            height: 22px;
        }


        /* ===== 옵션 버튼 ===== */
        .options {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            padding: 0 16px 12px;
        }

        .option-btn {
            background: #d9f4e7;
            padding: 14px 16px;
            border-radius: 24px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            box-shadow: 0 2px 4px rgb(255, 255, 255);
        }

        /* ===== 검색 ===== */
        .search-box {
            display: flex;
            justify-content: center;
            padding: 8px 16px;
        }

        .search-box input {
            width: 100%;
            max-width: 240px;
            padding: 12px 16px;
            border-radius: 50px;
            border: 1.5px solid #b5b5b5;
            font-size: 14px;
            text-align: center;
        }

        /* ===== 하단 버튼 ===== */
        .fixed-buttons {
            display: flex;
            gap: 12px;
            padding: 12px 16px;
        }

        .voice-btn,
        .bottom-search-btn {
            flex: 1;
            background: #6ac8a2;
            border-radius: 22px;
            color: white;
            font-weight: 700;
            padding: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* ===== 모바일 대응 ===== */
        @media (max-width: 480px) {
            .logo {
                font-size: 28px;
            }

            .overlay-image {
                width: 24px;
                height: 24px;
            }
        }
    </style>
</head>

<body>
    <div class="container">

        <!-- 지도 -->
        <div class="map-box">
            <img src="230신림.jpg" class="map-image" alt="신림 지도 이미지">
            <img src="EV1.png" class="overlay-image elevator" alt="엘리베이터 아이콘">
            <img src="EV1.png" class="overlay-image elevator" alt="엘리베이터 아이콘">
            <img src="EV1.png" class="overlay-image elevator" alt="엘리베이터 아이콘">
        </div>

        <!-- 헤더 -->
        <div class="header">
            <div class="logo" onclick="goHome()">Undr</div>
            <div class="settings-btn" onclick="goSettings()">
                <i class="fas fa-cog"></i>
            </div>
        </div>

        <!-- 옵션 -->
        <div class="options">
            <div class="option-btn" onclick="toggleIcon('bathroom')">화장실</div>
            <div class="option-btn" onclick="toggleIcon('baby')">수유실</div>
            <div class="option-btn" onclick="toggleIcon('elevator')">엘리베이터</div>
            <div class="option-btn" onclick="toggleIcon('lift')">휠체어 리프트</div>
            <div class="option-btn" onclick="toggleIcon('fire')">소화기</div>
            <div class="option-btn" onclick="toggleIcon('aed')">자동심장충격기</div>
        </div>

        <!-- 검색 -->
        <div class="search-box">
            <input type="text" placeholder="역을 검색하세요">
        </div>

        <!-- 하단 버튼 -->
        <div class="fixed-buttons">
            <div class="voice-btn">
                <i class="fas fa-microphone"></i>
            </div>
            <div class="bottom-search-btn">
                <i class="fas fa-search"></i>
            </div>
        </div>

    </div>

    <script>
        function goHome() {
            alert('홈으로 이동');
        }

        function goSettings() {
            alert('환경설정 이동');
        }

        let activeType = null; // ⭐ 현재 활성 상태 저장

        function toggleIcon(type) {

            const buttons = document.querySelectorAll('.option-btn');
            const icons = document.querySelectorAll('.overlay-image');

            // ✅ 같은 버튼을 다시 클릭한 경우 → OFF
            if (activeType === type) {
                icons.forEach(icon => {
                    icon.style.display = 'none';
                });

                buttons.forEach(btn => {
                    btn.style.background = '#d9f4e7';
                });

                activeType = null;
                return;
            }

            // ✅ 새로운 버튼 클릭 → 기존 상태 초기화
            buttons.forEach(btn => {
                btn.style.background = '#d9f4e7';
            });

            icons.forEach(icon => {
                icon.style.display = 'none';
            });

            // ✅ 클릭한 버튼 활성화
            const activeBtn = document.querySelector(
                `.option-btn[onclick="toggleIcon('${type}')"]`
            );
            if (activeBtn) {
                activeBtn.style.background = '#84E0AE';
            }

            // ✅ 엘리베이터 아이콘 표시
            if (type === 'elevator') {
                icons.forEach(icon => {
                    const randomX = Math.random() * 45 + 15;
                    const randomY = Math.random() * 40 + 15;

                    icon.style.left = randomX + '%';
                    icon.style.top = randomY + '%';
                    icon.style.display = 'block';
                });
            }

            activeType = type; // ⭐ 상태 저장
        }


    </script>
</body>

</html>